## CPswarm-common

CPSwarm OSGI Bundles are subdevided in three different repositories: one for stage, one for gazebo and one for the common part used by both of them and the their source code. It leverages some bundles from [`RosOsgi`](https://github.com/ibcn-cloudlet/rososgi) project.

# Installation and Configuration
0. Be sure you have installed the BND tool in your system
    >sudo apt-get update\
    >sudo apt-get install bnd

1. clone and import all sub-projects in eclipse.
    >git clone https://git.pertforge.ismb.it/rzhao/cpswarm-common.git

    >In Eclipse: import-> Existing Projects into Workspace-> Select the cpswarm-common-> Copy projects into workspace-> Finish


*Usage of specific bundles*****
Input the `help` command in Felix console to see the following Ros commands are embeded:
*  be.iminds.iot.ros.api: it embeds the basic ros commands(e.g roslaunch, catkinBuild, rosrun) in the Felix GOGO console;\
    >ros:catkinBuild\
    >ros:roslaunch\
    >ros:rosrun\
*  be.iminds.iot.ros.core: it registers a Ros service which can launch the Ros Master;
    >ros:env\
    >ros:nodes\
    >ros:provider\
    >ros:publishers\
    >ros:services\
    >ros:subscribers\
    >ros:topics\
*  be.iminds.iot.ros.msgs.generator: we can use the `ros:generate` command in the Felix console when the Ros master is running to convert all available types of the Ros messages into the Java types placed in the `generated_msgs` folder that can then be wrapped in an OSGi bundle, so in this case we can directly send ros commands from the Java world to the Ros world through the APIs provided by the [Rosjava](http://rosjava.github.io/rosjava_core/latest/) project (e.g Publisher, Subscriber, Service...).
    >ros:generate\
*  be.iminds.iot.simulator.gazebo: it's an example of using the generated java types of the messages(gazebo\_msgs, trajectory\_msgs, std_srvs) to send some commands to control the Gazebo simulation process.
    >gazebo:start\
    >gazebo:stop\
    >gazebo:pause\
    >gazebo:tick\
    >gazebo:loadScene\
    >gazebo:getPosition\
    >gazebo:setPosition\
    >...\
*  coppelia: used by the **be.iminds.iot.simulator.gazebo project**
*  org.ros.rosjava\_messages.*: there are three sets of the java messages generated by the `ros:generate` command, they are used by the `be.iminds.iot.simulator.gazebo` project
*  it.ismb.pert.cpswarm.simulation.manager: it provides the CPSwarm Simulation Manager APIs



